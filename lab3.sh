#!/bin/bash
# Используем awk для нахождения количества целых положительных значений
# в каждой строке и фильтрации значений, не превышающих N
awk -v N="$2" '{
  count = 0
  for (i = 1; i <= NF; i++) {
    if ($i ~ /^[0-9]+$/ && $i <= N) {
      count++
    }
  }
  print count
}' "$1"
